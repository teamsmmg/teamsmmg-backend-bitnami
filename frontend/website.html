<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dynamic Page</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="container">
    <h1 id="heading">Loading...</h1>
    <h3 id="subheading"></h3>
    <p id="address"></p>
    <p id="pathname"></p>
  </div>

<script>
    // Extract slug from URL (For example: teamsmmg.work/littleplayschool)
const pathArray = window.location.pathname.split('/');
// pathArray[pathArray.length - 1] ||
const slug =  'littleplayschool'; // Default fallback slug

// Backend API endpoint
const apiUrl = `http://localhost:3000/api/website/${slug}`;

fetch(apiUrl)
  .then(response => response.json())
  .then(data => {
    document.getElementById('heading').innerText = data.heading;
    document.getElementById('subheading').innerText = data.subheading;
    document.getElementById('address').innerText = data.address;
    document.getElementById('pathname').innerText = pathArray;
  })
  .catch(error => {
    console.error('Error fetching data:', error);
    document.getElementById('heading').innerText = 'Page Not Found';
  });

</script>
</body>
</html>
